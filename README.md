# 终端实时歌词!

通过sleep实现的终端lrc歌词文件解析和实时展示.

## 效果

> 使用`sox`播放时:

[录屏 2022年10月01日 19时56分54秒.webm](https://user-images.githubusercontent.com/89891126/193408480-e7f01c53-131d-4672-9347-b27ae3492a4b.webm)


> 使用`cvlc`播放时:

[录屏 2022年10月01日 19时59分37秒.webm](https://user-images.githubusercontent.com/89891126/193408574-83f2b972-bf1c-406f-a2c8-5141abad5d86.webm)

## 原理

我们可以拿一个lrc文件的一部分做演示:

```txt
[03:00.43]天生爱你 想回到你的怀里
[03:03.19]对你的爱意 像那无边的海域
[03:06.49]天生爱你 想回到你的怀里
[03:09.15]对你的爱意 像那无边的海域
```

首先需要把前面方括号里的时间提取出来,这个用`split`函数就行;

接着需要对前面这段时间进行处理.

例如:

`03:09.15`中,`03`是分钟数,`09`则是秒数,最后两位是毫秒数.

于是我就把分钟数乘60转换为秒数,然后忽略毫秒数,最后就转换成了`03:09.15`这个时刻相对于音乐播放开始时的时间长度(单位:秒).

之后需要对上一句歌词做同样的处理,然后用这一句的减上一句的,得到两句之间的时间差.

这个`时间差`就是需要`sleep`的时长.

再然后,用一个简单的双线程就能实现一边播放一边显示歌词啦!

## 用法

将`lrc.py`这个文件移动到你的项目里,使用函数`lrc.main()`调用.

参数:

`main(player,lrc_name,music_name)`,

其中:

`player`填写播放器名称(`play `或`cvlc `或其他),**注意:需要在末尾加空格!**

`lrc_name`填写歌词文件的路径,**注意:不需要加后缀名!**

`music_name`填写音频文件的路径,**注意:需要加后缀名!**

例如:

`main('cvlc ','幼稚园杀手-天生爱你','幼稚园杀手-天生爱你.mp3')`

## 可能会添加

* 根据歌名自动寻歌词功能(这样只需要一个参数即可);

* ...